<div class="container">
  <mat-icon>business</mat-icon>
  <h1 style="font-weight: bold">All Departments</h1>
  <hr style="font-weight: bold" />

  <div class="department">
    <button mat-raised-button color="accent" (click)="openDialog()">
      Add Department
    </button>
  </div>
  <mat-accordion class="example-headers-align" multi>
    <mat-expansion-panel
      *ngFor="let department of departments; let i = index"
      (click)="doctorData(department._id)"
      [expanded]="step === i"
      (opened)="setStep(i)"
      hideToggle
    >
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ department.departmentName }}
        </mat-panel-title>
        <mat-panel-description>
          {{ department.shortDesc.slice(0, 50)+'...' }}
          <mat-icon>account_circle</mat-icon>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <h3>{{department.LongDesc}}</h3>
      <!-- ///////////////////////////////////////// -->

      <section class="example-container mat-elevation-z8" tabindex="0">
        <table mat-table [dataSource]="dataSource">
          <!-- doctorName Column -->
          <ng-container matColumnDef="doctorName">
            <th mat-header-cell *matHeaderCellDef>doctorName</th>
            <td mat-cell *matCellDef="let doctor">{{ doctor.name }}</td>
          </ng-container>

          <!-- gender Column -->
          <ng-container matColumnDef="gender">
            <th mat-header-cell *matHeaderCellDef>gender</th>
            <td mat-cell *matCellDef="let doctor">{{ doctor.gender }}</td>
          </ng-container>

          <!-- experience Column -->
          <ng-container matColumnDef="experience">
            <th mat-header-cell *matHeaderCellDef>experience</th>
            <td mat-cell *matCellDef="let doctor">{{ doctor.experience }}</td>
          </ng-container>

          <!-- Symbol Column -->
          <ng-container matColumnDef="phone">
            <th mat-header-cell *matHeaderCellDef>phone</th>
            <td mat-cell *matCellDef="let doctor">{{ doctor.phone }}</td>
          </ng-container>

          <tr
            mat-header-row
            *matHeaderRowDef="displayedColumns; sticky: true"
          ></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </section>
    </mat-expansion-panel>
  </mat-accordion>
</div>
